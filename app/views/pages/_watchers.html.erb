<% watchers =  broadcast.friends(user) %>

<%= content_tag("p", :class => 'viewer-names') do %>
  <% unless watchers.length == 0 %>
    <strong>Watching</strong>
    <% links = watchers.map { |watcher| link_to(watcher.twitter.screen_name, "http://twitter.com/#{watcher.twitter.screen_name}") }.slice(0,3).join(", ") %>
    <%= links.html_safe %>
    <% if watchers.length > 3 %>
       and <%= link_to "#{watchers.length-3} more", watchers_path(:broadcast_id => broadcast.id), :class => 'watchers', :remote => true %>
    <% end %>
  <% end %>
<% end %>

